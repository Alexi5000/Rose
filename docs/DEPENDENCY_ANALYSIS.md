# Dependency Analysis Report

Generated by `scripts/analyze_dependencies.py`

```
================================================================================
DEPENDENCY ANALYSIS REPORT
================================================================================

MODULE CATEGORIES
--------------------------------------------------------------------------------

CORE (14 modules):
  - ai_companion.core.backup
  - ai_companion.core.checkpointer
  - ai_companion.core.error_handlers
  - ai_companion.core.error_responses
  - ai_companion.core.exceptions
  - ai_companion.core.logging_config
  - ai_companion.core.metrics
  - ai_companion.core.monitoring
  - ai_companion.core.monitoring_scheduler
  - ai_companion.core.prompts
  - ai_companion.core.resilience
  - ai_companion.core.retry
  - ai_companion.core.schedules
  - ai_companion.core.session_cleanup

MODULES (7 modules):
  - ai_companion.modules.image.image_to_text
  - ai_companion.modules.image.text_to_image
  - ai_companion.modules.memory.long_term.memory_manager
  - ai_companion.modules.memory.long_term.vector_store
  - ai_companion.modules.schedules.context_generation
  - ai_companion.modules.speech.speech_to_text
  - ai_companion.modules.speech.text_to_speech

GRAPH (6 modules):
  - ai_companion.graph.edges
  - ai_companion.graph.graph
  - ai_companion.graph.nodes
  - ai_companion.graph.state
  - ai_companion.graph.utils.chains
  - ai_companion.graph.utils.helpers

INTERFACES (11 modules):
  - ai_companion.interfaces.chainlit.app
  - ai_companion.interfaces.web.app
  - ai_companion.interfaces.web.middleware
  - ai_companion.interfaces.web.models
  - ai_companion.interfaces.web.routes.health
  - ai_companion.interfaces.web.routes.metrics
  - ai_companion.interfaces.web.routes.monitoring
  - ai_companion.interfaces.web.routes.session
  - ai_companion.interfaces.web.routes.voice
  - ai_companion.interfaces.whatsapp.webhook_endpoint
  - ai_companion.interfaces.whatsapp.whatsapp_response

OTHER (1 modules):
  - ai_companion.settings

CIRCULAR DEPENDENCIES
--------------------------------------------------------------------------------
✓ No circular dependencies found!

INTERFACE-TO-CORE DEPENDENCIES
--------------------------------------------------------------------------------
(These may indicate architectural issues)

Found 27 interface-to-core dependency(ies):

  ai_companion.interfaces.chainlit.app
    → ai_companion.core.resilience

  ai_companion.interfaces.chainlit.app
    → ai_companion.modules.image

  ai_companion.interfaces.chainlit.app
    → ai_companion.modules.speech

  ai_companion.interfaces.web.app
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.app
    → ai_companion.core.exceptions

  ai_companion.interfaces.web.app
    → ai_companion.core.monitoring_scheduler

  ai_companion.interfaces.web.app
    → ai_companion.core.backup

  ai_companion.interfaces.web.app
    → ai_companion.core.error_responses

  ai_companion.interfaces.web.app
    → ai_companion.core.session_cleanup

  ai_companion.interfaces.whatsapp.whatsapp_response
    → ai_companion.core.resilience

  ai_companion.interfaces.whatsapp.whatsapp_response
    → ai_companion.modules.image

  ai_companion.interfaces.whatsapp.whatsapp_response
    → ai_companion.modules.speech

  ai_companion.interfaces.web.routes.health
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.routes.health
    → ai_companion.core.metrics

  ai_companion.interfaces.web.routes.metrics
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.routes.metrics
    → ai_companion.core.metrics

  ai_companion.interfaces.web.routes.monitoring
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.routes.monitoring
    → ai_companion.core.monitoring

  ai_companion.interfaces.web.routes.monitoring
    → ai_companion.core.metrics

  ai_companion.interfaces.web.routes.session
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.routes.session
    → ai_companion.core.metrics

  ai_companion.interfaces.web.routes.voice
    → ai_companion.core.logging_config

  ai_companion.interfaces.web.routes.voice
    → ai_companion.core.resilience

  ai_companion.interfaces.web.routes.voice
    → ai_companion.core.exceptions

  ai_companion.interfaces.web.routes.voice
    → ai_companion.core.metrics

  ai_companion.interfaces.web.routes.voice
    → ai_companion.modules.speech.text_to_speech

  ai_companion.interfaces.web.routes.voice
    → ai_companion.modules.speech.speech_to_text


DEPENDENCY MATRIX BY CATEGORY
--------------------------------------------------------------------------------
Shows which categories depend on which:

INTERFACES depends on:
  - core: 21 dependencies
  - graph: 1 dependencies
  - modules: 2 dependencies
  - other: 6 dependencies

GRAPH depends on:
  - core: 1 dependencies
  - modules: 4 dependencies
  - other: 4 dependencies

MODULES depends on:
  - core: 10 dependencies
  - other: 6 dependencies

CORE depends on:
  - other: 4 dependencies

DETAILED MODULE DEPENDENCIES
--------------------------------------------------------------------------------

ai_companion.core.backup:
  → ai_companion.settings

ai_companion.core.checkpointer:
  → ai_companion.settings

ai_companion.core.error_handlers:
  → ai_companion.core.exceptions
  → ai_companion.core.metrics

ai_companion.core.error_responses:
  → ai_companion.core.exceptions
  → ai_companion.core.logging_config

ai_companion.core.metrics:
  → ai_companion.core.logging_config

ai_companion.core.monitoring:
  → ai_companion.core.logging_config
  → ai_companion.core.metrics

ai_companion.core.monitoring_scheduler:
  → ai_companion.core.logging_config
  → ai_companion.core.monitoring

ai_companion.core.resilience:
  → ai_companion.core.exceptions
  → ai_companion.settings

ai_companion.core.session_cleanup:
  → ai_companion.core.logging_config
  → ai_companion.settings

ai_companion.graph.edges:
  → ai_companion.graph.state
  → ai_companion.settings

ai_companion.graph.graph:
  → ai_companion.graph.edges
  → ai_companion.graph.nodes
  → ai_companion.graph.state

ai_companion.graph.nodes:
  → ai_companion.graph.state
  → ai_companion.graph.utils.chains
  → ai_companion.graph.utils.helpers
  → ai_companion.modules.memory.long_term.memory_manager
  → ai_companion.modules.schedules.context_generation
  → ai_companion.settings

ai_companion.graph.utils.chains:
  → ai_companion.core.prompts
  → ai_companion.graph.utils.helpers
  → ai_companion.settings

ai_companion.graph.utils.helpers:
  → ai_companion.modules.image.image_to_text
  → ai_companion.modules.image.text_to_image
  → ai_companion.settings

ai_companion.interfaces.chainlit.app:
  → ai_companion.core.resilience
  → ai_companion.settings

ai_companion.interfaces.web.app:
  → ai_companion.core.backup
  → ai_companion.core.error_responses
  → ai_companion.core.exceptions
  → ai_companion.core.logging_config
  → ai_companion.core.monitoring_scheduler
  → ai_companion.core.session_cleanup
  → ai_companion.interfaces.web.middleware
  → ai_companion.settings

ai_companion.interfaces.web.routes.health:
  → ai_companion.core.logging_config
  → ai_companion.core.metrics
  → ai_companion.settings

ai_companion.interfaces.web.routes.metrics:
  → ai_companion.core.logging_config
  → ai_companion.core.metrics

ai_companion.interfaces.web.routes.monitoring:
  → ai_companion.core.logging_config
  → ai_companion.core.metrics
  → ai_companion.core.monitoring

ai_companion.interfaces.web.routes.session:
  → ai_companion.core.logging_config
  → ai_companion.core.metrics
  → ai_companion.settings

ai_companion.interfaces.web.routes.voice:
  → ai_companion.core.exceptions
  → ai_companion.core.logging_config
  → ai_companion.core.metrics
  → ai_companion.core.resilience
  → ai_companion.graph.graph
  → ai_companion.modules.speech.speech_to_text
  → ai_companion.modules.speech.text_to_speech
  → ai_companion.settings

ai_companion.interfaces.whatsapp.whatsapp_response:
  → ai_companion.core.resilience
  → ai_companion.settings

ai_companion.modules.image.image_to_text:
  → ai_companion.core.exceptions
  → ai_companion.settings

ai_companion.modules.image.text_to_image:
  → ai_companion.core.exceptions
  → ai_companion.core.prompts
  → ai_companion.settings

ai_companion.modules.memory.long_term.memory_manager:
  → ai_companion.core.prompts
  → ai_companion.modules.memory.long_term.vector_store
  → ai_companion.settings

ai_companion.modules.memory.long_term.vector_store:
  → ai_companion.core.resilience
  → ai_companion.settings

ai_companion.modules.schedules.context_generation:
  → ai_companion.core.schedules

ai_companion.modules.speech.speech_to_text:
  → ai_companion.core.exceptions
  → ai_companion.core.resilience
  → ai_companion.settings

ai_companion.modules.speech.text_to_speech:
  → ai_companion.core.exceptions
  → ai_companion.core.resilience
  → ai_companion.settings

================================================================================
END OF REPORT
================================================================================
```
